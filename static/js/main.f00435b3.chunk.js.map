{"version":3,"sources":["fetchApi/utilities.js","fetchApi/fetch.js","layout/Navigation.js","layout/Content.js","App.js","index.js"],"names":["options","option","title","fragment","changedText","method","body","headers","JSON","stringify","console","log","apiFetch","setBooks","books","id","users","url","fetch","then","response","ok","json","Error","data","newBooks","map","item","catch","err","Navigation","to","ElementList","lazy","BookFormAdding","ButtonDelete","Content","fallback","exact","path","render","props","App","useState","useEffect","className","ReactDOM","StrictMode","document","getElementById"],"mappings":"qGAEA,kCAAO,IAAMA,EAAU,SAACC,EAAQC,EAAOC,EAAUC,GAC7C,OAAQH,GACJ,IAAK,MACD,MAAQ,CACJI,OAAQ,MACRC,KAAM,KACNC,QAAS,CACL,eAAgB,oCAG5B,IAAK,OACD,MAAO,CACHF,OAAQ,OACRC,KAAME,KAAKC,UACP,CACIP,MAAOA,EACPI,KAAMH,IAGdI,QAAS,CACL,eAAgB,oCAG5B,IAAK,QACD,MAAO,CACHF,OAAQ,QACRC,KAAME,KAAKC,UAAU,CACjBH,KAAMF,EACNF,MAAOA,IAEXK,QAAS,CACL,eAAgB,oCAG5B,IAAK,SACD,MACI,CACIF,OAAQ,UAGpB,QACIK,QAAQC,IAAI,wB,8EC3CXC,EAAW,SAACC,EAAUb,EAASc,EAAOC,GAE/C,IAAMC,EAA6B,UAAnBhB,EAAQK,QAA2C,WAAnBL,EAAQK,OAAwB,cAAgB,YAE1FY,EAAG,oDAAgDD,GAEzDE,MAAMD,EAAKjB,GACNmB,MAAK,SAAAC,GACF,GAAIA,EAASC,GAAI,OAAOD,EAASE,OAC5B,MAAM,IAAIC,MAAM,gCAExBJ,MAAK,SAAAK,GACF,OAAQxB,EAAQK,QACZ,IAAK,MACD,OAAQQ,EAASW,GAErB,IAAK,OACD,OAAOX,EAAS,GAAD,mBAAKC,GAAL,CAAYU,KAE/B,IAAK,QACD,IAAMC,EAAWX,EAAMY,KAAI,SAAAC,GAKvB,OAJIA,EAAKZ,KAAOA,IACZY,EAAOH,EACPA,EAAKT,GAAKA,GAENY,KAEZ,OAAQd,EAASY,GAErB,IAAK,SACD,OAAQZ,EAAS,IAErB,QACI,OAAOH,QAAQC,IAAI,yBAG9BiB,OAAM,SAACC,GAAD,OAASnB,QAAQC,IAAIkB,Q,8IChBrBC,EAjBI,WACf,OACI,+BACI,6BACI,cAAC,IAAD,CAASC,GAAG,IAAZ,oBAEJ,6BACI,cAAC,IAAD,CAASA,GAAG,aAAZ,+BAEJ,6BACI,cAAC,IAAD,CAASA,GAAG,WAAZ,4CCRVC,EAAcC,gBAAK,kBAAM,gCACzBC,EAAiBD,gBAAK,kBAAM,gCAC5BE,EAAeF,gBAAK,kBAAM,gCAoBjBG,EAlBC,SAAC,GAAyB,IAAvBvB,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MAC3B,OACE,eAAC,WAAD,CAAUuB,SAAU,6CAApB,UACE,cAACF,EAAD,CAActB,SAAUA,IACxB,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOyB,OAAK,EAACC,KAAK,MAClB,cAAC,IAAD,CAAOA,KAAK,aAAaC,OAAQ,SAAAC,GAAK,OACpC,cAACT,EAAD,CAAanB,SAAUA,EAAUC,MAAOA,OAE1C,cAAC,IAAD,CAAOyB,KAAK,WAAZ,SACE,cAACL,EAAD,CAAgBrB,SAAUA,EAAUC,MAAOA,aCMtC4B,MAlBf,WAAgB,IAAD,EAEaC,mBAAS,IAFtB,mBAEN7B,EAFM,KAECD,EAFD,KAQb,OAJA+B,qBAAU,WACRhC,YAASC,EAAUb,YAAQ,UAC1B,IAGD,cAAC,IAAD,UACE,sBAAK6C,UAAU,MAAf,UACE,4DACA,cAAC,EAAD,CAAS/B,MAAOA,EAAOD,SAAUA,U,MCfzCiC,IAASN,OACP,cAAC,IAAMO,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f00435b3.chunk.js","sourcesContent":["\r\n\r\nexport const options = (option, title, fragment, changedText) => {\r\n    switch (option) {\r\n        case \"GET\":\r\n            return ({\r\n                method: 'GET',\r\n                body: null,\r\n                headers: {\r\n                    'Content-type': 'application/json; charset=UTF-8',\r\n                },\r\n            });\r\n        case \"POST\":\r\n            return {\r\n                method: 'POST',\r\n                body: JSON.stringify(\r\n                    {\r\n                        title: title,\r\n                        body: fragment,\r\n                    }\r\n                ),\r\n                headers: {\r\n                    'Content-type': 'application/json; charset=UTF-8',\r\n                },\r\n            };\r\n        case \"PATCH\":\r\n            return {\r\n                method: 'PATCH',\r\n                body: JSON.stringify({\r\n                    body: changedText,\r\n                    title: title,\r\n                }),\r\n                headers: {\r\n                    'Content-type': 'application/json; charset=UTF-8',\r\n                },\r\n            }\r\n        case \"DELETE\":\r\n            return (\r\n                {\r\n                    method: 'DELETE',\r\n                }\r\n            )\r\n        default:\r\n            console.log(\"unexpected option\")\r\n    };\r\n\r\n};","export const apiFetch = (setBooks, options, books, id) => {\r\n\r\n    const users = ((options.method === \"PATCH\") || (options.method === \"DELETE\")) ? \"/1?userId=1\" : \"?userId=1\"\r\n\r\n    const url = `https://jsonplaceholder.typicode.com/posts${users}`\r\n\r\n    fetch(url, options)\r\n        .then(response => {\r\n            if (response.ok) return response.json();\r\n            else throw new Error(\"error in downloading data\");\r\n        })\r\n        .then(data => {\r\n            switch (options.method) {\r\n                case \"GET\":\r\n                    return (setBooks(data));\r\n\r\n                case \"POST\":\r\n                    return setBooks([...books, data]);\r\n\r\n                case \"PATCH\":\r\n                    const newBooks = books.map(item => {\r\n                        if (item.id === id) {\r\n                            item = data;\r\n                            data.id = id;\r\n                        };\r\n                        return (item);\r\n                    });\r\n                    return (setBooks(newBooks));\r\n\r\n                case \"DELETE\":\r\n                    return (setBooks([]));\r\n\r\n                default:\r\n                    return console.log(\"unexpected method\");\r\n            }\r\n        })\r\n        .catch((err) => console.log(err))\r\n};","import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <ul>\r\n            <li>\r\n                <NavLink to=\"/\">Home</NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink to=\"/listBooks\">A list of books</NavLink>\r\n            </li>\r\n            <li>\r\n                <NavLink to=\"/addBook\">Addng a book to the list</NavLink>\r\n            </li>\r\n        </ul>\r\n\r\n    );\r\n};\r\n\r\nexport default Navigation;","import React, { lazy, Suspense } from 'react';\r\nimport { Route, Switch } from \"react-router-dom\";\r\n\r\nimport Navigation from \"../layout/Navigation\";\r\n\r\nconst ElementList = lazy(() => import(\"../components/ElementList\"));\r\nconst BookFormAdding = lazy(() => import(\"../components/BookFormAdding.js\"));\r\nconst ButtonDelete = lazy(() => import(\"../components/ButtonDelete\"));\r\n\r\nconst Content = ({ setBooks, books }) => {\r\n  return (\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <ButtonDelete setBooks={setBooks} />\r\n      <Navigation />\r\n      <Switch>\r\n        <Route exact path=\"/\" />\r\n        <Route path=\"/listBooks\" render={props => (\r\n          <ElementList setBooks={setBooks} books={books} />\r\n        )} />\r\n        <Route path=\"/addBook\">\r\n          <BookFormAdding setBooks={setBooks} books={books} />\r\n        </Route>\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Content;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { options } from \"./fetchApi/utilities\";\nimport { apiFetch } from \"./fetchApi/fetch\";\n\nimport Content from \"./layout/Content\";\n\nfunction App() {\n\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n    apiFetch(setBooks, options(\"GET\"))\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <h1>The best books of all time</h1>\n        <Content books={books} setBooks={setBooks} />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./styles/styles.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}