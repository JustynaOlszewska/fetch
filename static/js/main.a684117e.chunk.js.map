{"version":3,"sources":["fetchApi/utilities.js","fetchApi/fetch.js","routing/Navigation.js","components/List.js","routing/Content.js","App.js","index.js"],"names":["url","options","option","title","fragment","changedText","method","body","headers","JSON","stringify","console","log","apiFetch","setBooks","books","id","fetch","then","response","status","json","Error","data","booksFromData","map","item","concat","newBooks","index","catch","err","Navigation","to","ElementList","lazy","BookFormAdding","ButtonDelete","List","useState","users","useEffect","fallback","path","Content","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qGAAA,oEAAO,IAAMA,EAAM,CAAC,sDAAuD,gDAE9DC,EAAU,SAACC,EAAQC,EAAOC,EAAUC,GAC7C,OAAQH,GACJ,IAAK,MACD,MAAQ,CACJI,OAAQ,MACRC,KAAM,KACNC,QAAS,CACL,eAAgB,oCAG5B,IAAK,OACD,MAAO,CACHF,OAAQ,OACRC,KAAME,KAAKC,UACP,CACIP,MAAOA,EACPI,KAAMH,IAGdI,QAAS,CACL,eAAgB,oCAG5B,IAAK,QACD,MAAO,CACHF,OAAQ,QACRC,KAAME,KAAKC,UAAU,CACjBH,KAAMF,EACNF,MAAOA,IAEXK,QAAS,CACL,eAAgB,oCAG5B,IAAK,SACD,MACI,CACIF,OAAQ,UAGpB,QACIK,QAAQC,IAAI,wB,gCC3CxB,kCAAO,IAAMC,EAAW,SAACb,EAAKc,EAAUb,EAASc,EAAOC,GAEpDC,MAAMjB,EAAKC,GACNiB,MAAK,SAAAC,GACF,GAAIA,EAASC,QAAU,KAAOD,EAASC,QAAU,IAAK,OAAOD,EAASE,OACjE,MAAM,IAAIC,MAAM,gCAExBJ,MAAK,SAAAK,GACF,OAAQtB,EAAQK,QACZ,IAAK,MACD,IAAMkB,EAAgBD,EAAKE,KAAI,SAAAC,GAC3B,MAAQ,CACJvB,MAAOuB,EAAKvB,MACZI,KAAMmB,EAAKnB,SAGnB,OAAQO,EAASU,GACrB,IAAK,OACD,OAAQV,EAASC,EAAMY,OAAOJ,IAClC,IAAK,QACD,IAAMK,EAAWb,EAAMU,KAAI,SAACC,EAAMG,GAC9B,OAAIb,IAAOa,EAAcH,EAAKnB,KAAOgB,EAC9BG,KAEX,OAAQZ,EAASc,GACrB,IAAK,SAED,OAAQd,EADRS,EAAO,IAEX,QACIZ,QAAQC,IAAI,yBAGvBkB,OAAM,SAACC,GAAD,OAASpB,QAAQC,IAAImB,Q,+GCZrBC,EAjBI,WACf,OACI,+BACI,6BACI,cAAC,IAAD,CAAMC,GAAG,IAAT,oBAEJ,6BACI,cAAC,IAAD,CAAMA,GAAG,aAAT,+BAEJ,6BACI,cAAC,IAAD,CAAMA,GAAG,WAAT,4C,+BCRVC,EAAcC,gBAAK,kBAAM,gCACzBC,EAAiBD,gBAAK,kBAAM,gCAC5BE,EAAeF,gBAAK,kBAAM,gCA4BjBG,EA1BF,WAAO,IAAD,EAEWC,mBAAS,IAFpB,mBAERxB,EAFQ,KAEDD,EAFC,KAGR0B,EAHQ,YAGExC,IAHF,MASf,OAJAyC,qBAAU,WACN5B,YAAS2B,EAAO1B,EAAUb,YAAQ,UACnC,CAACuC,IAGA,8BACI,eAAC,WAAD,CAAUE,SAAU,6CAApB,UACI,cAACL,EAAD,CAAcvB,SAAUA,IACxB,eAAC,IAAD,WACI,cAAC,IAAD,CAAO6B,KAAK,aAAZ,SACI,cAACT,EAAD,CAAapB,SAAUA,EAAUC,MAAOA,MAE5C,cAAC,IAAD,CAAO4B,KAAK,WAAZ,SACI,cAACP,EAAD,CAAgBtB,SAAUA,EAAUC,MAAOA,eCbpD6B,EAVC,WACd,OACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOD,KAAK,IAAZ,SACE,cAAC,EAAD,SCSOE,MAZf,WACE,OACE,cAAC,IAAD,UACE,sBAAKC,UAAU,MAAf,UACE,4DACA,cAAC,EAAD,IACA,cAAC,EAAD,U,MCNRC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a684117e.chunk.js","sourcesContent":["export const url = ['https://jsonplaceholder.typicode.com/posts?userId=1', 'https://jsonplaceholder.typicode.com/posts/1'];\r\n\r\nexport const options = (option, title, fragment, changedText) => {\r\n    switch (option) {\r\n        case \"GET\":\r\n            return ({\r\n                method: 'GET',\r\n                body: null,\r\n                headers: {\r\n                    'Content-type': 'application/json; charset=UTF-8',\r\n                },\r\n            });\r\n        case \"POST\":\r\n            return {\r\n                method: 'POST',\r\n                body: JSON.stringify(\r\n                    {\r\n                        title: title,\r\n                        body: fragment\r\n                    }\r\n                ),\r\n                headers: {\r\n                    'Content-type': 'application/json; charset=UTF-8',\r\n                },\r\n            };\r\n        case \"PATCH\":\r\n            return {\r\n                method: 'PATCH',\r\n                body: JSON.stringify({\r\n                    body: changedText,\r\n                    title: title\r\n                }),\r\n                headers: {\r\n                    'Content-type': 'application/json; charset=UTF-8',\r\n                },\r\n            }\r\n        case \"DELETE\":\r\n            return (\r\n                {\r\n                    method: 'DELETE',\r\n                }\r\n            )\r\n        default:\r\n            console.log(\"unexpected option\")\r\n    };\r\n\r\n};","export const apiFetch = (url, setBooks, options, books, id) => {\r\n\r\n    fetch(url, options)\r\n        .then(response => {\r\n            if (response.status >= 200 && response.status <= 300) return response.json();\r\n            else throw new Error(\"error in downloading data\");\r\n        })\r\n        .then(data => {\r\n            switch (options.method) {\r\n                case \"GET\":\r\n                    const booksFromData = data.map(item => {\r\n                        return ({\r\n                            title: item.title,\r\n                            body: item.body\r\n                        })\r\n                    })\r\n                    return (setBooks(booksFromData));\r\n                case \"POST\":\r\n                    return (setBooks(books.concat(data)));\r\n                case \"PATCH\":\r\n                    const newBooks = books.map((item, index) => {\r\n                        if (id === index) return item.body = data;\r\n                        return item\r\n                    })\r\n                    return (setBooks(newBooks));\r\n                case \"DELETE\":\r\n                    data = [];\r\n                    return (setBooks(data));\r\n                default:\r\n                    console.log(\"unexpected method\")\r\n            }\r\n        })\r\n        .catch((err) => console.log(err))\r\n};","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <ul>\r\n            <li>\r\n                <Link to=\"/\">Home</Link>\r\n            </li>\r\n            <li>\r\n                <Link to=\"/listBooks\">A list of books</Link>\r\n            </li>\r\n            <li>\r\n                <Link to=\"/addBook\">Addng a book to the list</Link>\r\n            </li>\r\n        </ul>\r\n\r\n    );\r\n}\r\n\r\nexport default Navigation;","import React, { useEffect, useState, lazy, Suspense } from 'react';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { apiFetch } from \"../fetchApi/fetch\";\r\nimport { url, options } from \"../fetchApi/utilities\";\r\n\r\nconst ElementList = lazy(() => import(\"../components/ElementList\"));\r\nconst BookFormAdding = lazy(() => import(\"../components/BookFormAdding\"));\r\nconst ButtonDelete = lazy(() => import(\"../components/ButtonDelete\"));\r\n//ButtonDelete lazy nie dziaÅ‚a\r\nconst List = () => {\r\n\r\n    const [books, setBooks] = useState([]);\r\n    const [users,] = url;\r\n\r\n    useEffect(() => {\r\n        apiFetch(users, setBooks, options(\"GET\"))\r\n    }, [users]);\r\n\r\n    return (\r\n        <div>\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n                <ButtonDelete setBooks={setBooks} />\r\n                <Switch>\r\n                    <Route path=\"/listBooks\">\r\n                        <ElementList setBooks={setBooks} books={books} />\r\n                    </Route>\r\n                    <Route path=\"/addBook\">\r\n                        <BookFormAdding setBooks={setBooks} books={books} />\r\n                    </Route>\r\n                </Switch>\r\n            </Suspense>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default List;","import React from 'react';\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport List from \"../components/List\";\r\n\r\nconst Content = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\">\r\n        <List />\r\n      </Route>\r\n    </Switch >\r\n  );\r\n}\r\n\r\nexport default Content;","import React from 'react';\nimport Navigation from \"./routing/Navigation\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Content from \"./routing/Content\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <h1>The best books of all time</h1>\n        <Navigation />\n        <Content />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./styles/styles.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}